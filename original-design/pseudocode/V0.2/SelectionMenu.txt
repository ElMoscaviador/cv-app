import {ProfilePicture, Career, Education, Tools, Languages, Hobbies} from './OptionalSections';
import SectionToggler from './html'

const SelectionMenu = ({saveSelectionsAndDisplayFirstSection, sectionsToDisplay, displayReviewPage}) => {
    const immutableSections = [...sectionsToDisplay]
    const [mutableSections, mutateSelections] = useState([...immutableSections]);

    const toggleSelection = (event) => {
        const currentSectionName = event.target.name;
        if (mutableSections.includes((currentSectionName))) {
            const withoutToggledSection = mutableSections.map((section) => section !== currentSectionName);
            mutateSelections(withoutToggledSection)
        } else {
            const withToggledSection = [...optionalSections, currentSectionName];
            mutateSelections(withToggledSection)
        }
    }

    return (
        {immutableSections.map((section) => <SectionToggler onClick={(event) => toggleSelection(event)} section={section}/>)
        <AddButton onClick={() => saveSelectionsAndDisplayFirstSection(mutableSections)}>Add selected sections</>
        <LeaveButton onClick={displayReviewPage}>No, I'd just like to review my CV.</LeaveButton>
        )
        })}
    )
}